(function (e) { e.matchMedia = e.matchMedia || function (c, e) { var s, k = c.documentElement, t = k.firstElementChild || k.firstChild, f = c.createElement("body"), g = c.createElement("div"); g.id = "mq-test-1"; g.style.cssText = "position:absolute;top:-100em"; f.style.background = "none"; f.appendChild(g); return function (c) { g.innerHTML = '&shy;<style media="' + c + '"> #mq-test-1 { width: 42px; }</style>'; k.insertBefore(f, t); s = 42 === g.offsetWidth; k.removeChild(f); return { matches: s, media: c } } }(e.document) })(this); (function (e) { var c = {}; e.respond = c; c.update = function () { }; var r = [], s = function () { var d = !1; try { d = new e.XMLHttpRequest } catch (b) { d = new e.ActiveXObject("Microsoft.XMLHTTP") } return function () { return d } }(), k = function (d, b) { var a = s(); a && (a.open("GET", d, !0), a.onreadystatechange = function () { 4 !== a.readyState || 200 !== a.status && 304 !== a.status || b(a.responseText) }, 4 !== a.readyState && a.send(null)) }, t = function (d) { return d.replace(c.regex.minmaxwh, "").match(c.regex.other) }; c.ajax = k; c.queue = r; c.unsupportedmq = t; c.regex = { media: /@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi, keyframes: /@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi, comments: /\/\*[^*]*\*+([^/][^*]*\*+)*\//gi, urls: /(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g, findStyles: /@media *([^\{]+)\{([\S\s]+?)$/, only: /(only\s+)?([a-zA-Z]+)\s?/, minw: /\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/, maxw: /\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/, minmaxwh: /\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi, other: /\([^\)]*\)/g }; c.mediaQueriesSupported = e.matchMedia && null !== e.matchMedia("only all") && e.matchMedia("only all").matches; var f = e.document, g = f.documentElement, u = [], v = [], m = [], y = {}, w = f.getElementsByTagName("head")[0] || g, I = f.getElementsByTagName("base")[0], x = w.getElementsByTagName("link"), z, D, A, B = function () { var d, b = f.createElement("div"), a = f.body, c = g.style.fontSize, h = a && a.style.fontSize, e = !1; b.style.cssText = "position:absolute;font-size:1em;width:1em"; a || (a = e = f.createElement("body"), a.style.background = "none"); g.style.fontSize = "100%"; a.style.fontSize = "100%"; a.appendChild(b); e && g.insertBefore(a, g.firstChild); d = b.offsetWidth; e ? g.removeChild(a) : a.removeChild(b); g.style.fontSize = c; h && (a.style.fontSize = h); return d = A = parseFloat(d) }, E = function (d) { var b = g.clientWidth, a = "CSS1Compat" === f.compatMode && b || f.body.clientWidth || b, b = {}, c = x[x.length - 1], h = (new Date).getTime(); if (d && z && 30 > h - z) e.clearTimeout(D), D = e.setTimeout(E, 30); else { z = h; for (var n in u) if (u.hasOwnProperty(n)) { d = u[n]; var h = d.minw, q = d.maxw, l = null === h, k = null === q; h && (h = parseFloat(h) * (-1 < h.indexOf("em") ? A || B() : 1)); q && (q = parseFloat(q) * (-1 < q.indexOf("em") ? A || B() : 1)); d.hasquery && (l && k || !(l || a >= h) || !(k || a <= q)) || (b[d.media] || (b[d.media] = []), b[d.media].push(v[d.rules])) } for (var p in m) m.hasOwnProperty(p) && m[p] && m[p].parentNode === w && w.removeChild(m[p]); m.length = 0; for (var C in b) b.hasOwnProperty(C) && (n = f.createElement("style"), p = b[C].join("\n"), n.type = "text/css", n.media = C, w.insertBefore(n, c.nextSibling), n.styleSheet ? n.styleSheet.cssText = p : n.appendChild(f.createTextNode(p)), m.push(n)) } }, F = function (d, b, a) { var e = d.replace(c.regex.comments, "").replace(c.regex.keyframes, "").match(c.regex.media), h = e && e.length || 0; b = b.substring(0, b.lastIndexOf("/")); var f = !h && a; b.length && (b += "/"); f && (h = 1); for (var g = 0; g < h; g++) { var l, k, p; f ? (l = a, v.push(d.replace(c.regex.urls, "$1" + b + "$2$3"))) : (l = e[g].match(c.regex.findStyles) && RegExp.$1, v.push(RegExp.$2 && RegExp.$2.replace(c.regex.urls, "$1" + b + "$2$3"))); k = l.split(","); p = k.length; for (var m = 0; m < p; m++) l = k[m], t(l) || u.push({ media: l.split("(")[0].match(c.regex.only) && RegExp.$2 || "all", rules: v.length - 1, hasquery: -1 < l.indexOf("("), minw: l.match(c.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || ""), maxw: l.match(c.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || "") }) } E() }, G = function () { if (r.length) { var d = r.shift(); k(d.href, function (b) { F(b, d.href, d.media); y[d.href] = !0; e.setTimeout(function () { G() }, 0) }) } }, H = function () { for (var d = 0; d < x.length; d++) { var b = x[d], a = b.href, c = b.media, f = b.rel && "stylesheet" === b.rel.toLowerCase(); if (a && f && !y[a]) if (b.styleSheet && b.styleSheet.rawCssText) F(b.styleSheet.rawCssText, a, c), y[a] = !0; else if (!/^([a-zA-Z:]*\/\/)/.test(a) && !I || a.replace(RegExp.$1, "").split("/")[0] === e.location.host) "//" === a.substring(0, 2) && (a = e.location.protocol + a), r.push({ href: a, media: c }) } G() }; H(); c.update = H; c.getEmValue = B })(this);