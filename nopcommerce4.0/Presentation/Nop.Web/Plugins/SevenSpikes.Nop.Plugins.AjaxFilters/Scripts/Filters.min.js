FiltersManager=function(){this.isOnSearchPage=$(".nopAjaxFilters7Spikes").attr("data-isonsearchpage"),this.keyword=$(".nopAjaxFilters7Spikes").attr("data-searchkeyword"),this.searchCategoryId=$(".nopAjaxFilters7Spikes").attr("data-searchcategoryid"),this.searchManufacturerId=$(".nopAjaxFilters7Spikes").attr("data-searchmanufacturerid"),this.searchVendorId=$(".nopAjaxFilters7Spikes").attr("data-searchvendorid"),this.priceFrom=$(".nopAjaxFilters7Spikes").attr("data-searchpricefrom"),this.priceTo=$(".nopAjaxFilters7Spikes").attr("data-searchpriceto"),this.includeSubcategories=$(".nopAjaxFilters7Spikes").attr("data-searchincludesubcategories"),this.searchInProductDescriptions=$(".nopAjaxFilters7Spikes").attr("data-searchinproductdescriptions"),this.advancedSearch=$(".nopAjaxFilters7Spikes").attr("data-searchadvancedsearch"),this.categoryId=$(".nopAjaxFilters7Spikes").attr("data-categoryId"),this.manufacturerId=$(".nopAjaxFilters7Spikes").attr("data-manufacturerId"),this.vendorId=$(".nopAjaxFilters7Spikes").attr("data-vendorId"),this.getFilteredProductsUrl=$(".nopAjaxFilters7Spikes").attr("data-getFilteredProductsUrl"),this.filtersUIMode=$(".nopAjaxFilters7Spikes").attr("data-filtersUIMode"),this.filtersUIModeEnum={userCheckboxes:"usecheckboxes",useDropDowns:"usedropdowns"},this.selectedFilterGroupElement=void 0,this.selectedFilterOptionElement=void 0,this.isProductRefreshTriggeredByScroll=!1},function(e,t,r){var i=0,o=1,a=2,s=3;function l(){return"true"===e(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()}function n(t,r){e(t).each(function(){var t=e(this);t.is("select")&&t.val()!==r&&(t.val(r).attr("valueChangedByScript","true"),t.change())})}function d(t){if(e(t).length>0)return t;var r=t.slice(1);return"#"===t.substring(0,1)?"."+r:"."===t.substring(0,1)?"#"+r:t}function c(){return d(e(".nopAjaxFilters7Spikes").attr("data-viewOptionsDropDownSelector")||".products-viewmode, .viewmode-icon")}var p="nop7SpikesAjaxFiltersGrid";function u(t){!0===t.hasClass("closed")?t.removeClass("closed"):t.addClass("closed"),t.parent().siblings(".filtersGroupPanel").slideToggle("slow",function(){e(this).css("overflow","")})}function f(){var t=c(),r=e(t).filter(".selected");return r.length>0?r.attr("data-dropdownoptionvalue"):e(".viewOptionsDropDown").attr("data-DropDownOptionsSelectedValue")||e(".viewOptionsDropDown").val()||null}function h(t){var r=e(t.currentTarget).attr("data-pageNumber");null!=t.data&&null!=t.data.filtersManager&&t.data.filtersManager.requestProductsForSelectedFilters(void 0,void 0,r,void 0,void 0,!0)}function g(){var t=e(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")+","+e(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector");return e(".master-wrapper-page "+t).not(".featured-product-grid, .nop-jcarousel").last()}function v(){var t=e(".pager .next-page > a").first();if(0!==t.length){var i=g();if(0!==i.length)if(e(window).outerHeight()+e(window).scrollTop()>i.innerHeight()+i.offset().top){e(".infinite-scroll-loader").show();var o=new r,a=parseInt(t.attr("data-pageNumber"));o.requestProductsForSelectedFilters(void 0,void 0,a,void 0,void 0,!0,!0)}}else e(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll")}function F(){if(0===e(".infinite-scroll-loader").length){var t=e(".ajaxBusyPanelParent");0===t.length&&(t=g()),t.append('<div class="infinite-scroll-loader">'+e(".nopAjaxFilters7Spikes").attr("data-infinitescrollloadertext")+"</div>")}}function S(e,t){n(".viewOptionsDropDown",e),t&&(new r).requestProductsForSelectedFilters(void 0,void 0,void 0,void 0,void 0,!0)}function P(t,r){t.each(function(){var t="",i=e(r).val(),o=e.parseJSON(i);if(!e(this).is("select")){var a=".";return null!=o[0]&&o[0].Selected?a+=o[0].Value.toLowerCase():null!=o[1]&&o[1].Selected&&(a+=o[1].Value.toLowerCase()),void e(c()).removeClass("selected").filter(a).first().addClass("selected")}for(var s=0;s<o.length;s++){var l=o[s],n="<option ";l.Disabled&&(n+='disabled="disabled" '),l.Selected&&(n+='selected="selected" '),n+='value="'+l.Value+'">',t+=n+=l.Text+"</option>"}e(this).html(t)})}function x(){var t=e(d(e(".nopAjaxFilters7Spikes").attr("data-sortOptionsDropDownSelector")||".products-orderby"));0!==t.length&&(t.addClass("sortOptionsDropDown").removeAttr("onchange").off("change").on("change",function(t){t.preventDefault();var i,o,a=e(this),s=null==a.attr("valueChangedByScript");a.removeAttr("valueChangedByScript"),i=a.val(),o=s,n(".sortOptionsDropDown",i),o&&(l()&&e.address.history(!0),(new r).requestProductsForSelectedFilters())}),P(t,"#availableSortOptionsJson"))}function k(){var t=e(d(e(".nopAjaxFilters7Spikes").attr("data-productsPageSizeDropDownSelector")||".products-pagesize"));0!==t.length&&(t.addClass("productsPageSizeDropDown").removeAttr("onchange").off("change").on("change",function(t){t.preventDefault();var i,o,a=e(this),s=null==a.attr("valueChangedByScript");a.removeAttr("valueChangedByScript"),i=a.val(),o=s,n(".productsPageSizeDropDown",i),o&&(new r).requestProductsForSelectedFilters()}),P(t,"#availablePageSizesJson"))}function y(){var t;x(),0!==(t=e(c())).length&&(t.is("select")?t.addClass("viewOptionsDropDown").removeAttr("onchange").off("change").on("change",function(t){t.preventDefault();var r=e(this),i=null==r.attr("valueChangedByScript");r.removeAttr("valueChangedByScript"),S(r.val(),i)}):(t.filter(".grid").attr("data-dropdownoptionvalue","grid"),t.filter(".list").attr("data-dropdownoptionvalue","list"),t.on("click",function(i){if(i.preventDefault(),r.waitForAjaxRequest)return!1;e(this).hasClass("selected")||(t.removeClass("selected"),e(this).addClass("selected"),S(e(this).attr("data-dropdownoptionvalue"),!0))})),P(t,"#availableViewModesJson")),k(),e(document).trigger({type:"ajaxFiltersReplacedDropDownsEvent"})}e.fn.extend({anchorCustomClick:function(t){return e(this).first().on("click",function(r){r.preventDefault(),e(t).trigger("click")})}}),r.prototype.requestProductsForSelectedFilters=function(i,o,a,s,n,d,c,p,h,g){if(!r.waitForAjaxRequest&&"#/noFilterApplied"!==s){i&&o&&l()&&e.address.history(!0),this.isProductRefreshTriggeredByScroll=c||!1,null==s?s="":d=!0,this.setSpecificationFilterSelection(i,o);var v=this.getSpecificationFiltersModel(),F=this.getAttributeFiltersModel(),S=this.getManufacturerFiltersModel(),P=this.getVendorFiltersModel(),x=this.getOnSaleFiltersModel(),k=this.getPriceRangeFilterModel(),y=this.getInStockFiltersModel();null==a&&(a=null);var m=e(".sortOptionsDropDown").val()||0,w=f(),A=e(".productsPageSizeDropDown").val()||0,b=t.getUrlVar("pageNumber");null==b||null!=a||null!=n&&!1!==n||(a=b),null==d&&(d=!1),h&&(a=h);var j={categoryId:this.categoryId,manufacturerId:this.manufacturerId,vendorId:this.vendorId,priceRangeFilterModel7Spikes:k,specificationFiltersModel7Spikes:v,attributeFiltersModel7Spikes:F,manufacturerFiltersModel7Spikes:S,vendorFiltersModel7Spikes:P,pageNumber:a,orderby:m,viewmode:w,pagesize:A,queryString:s,shouldNotStartFromFirstPage:d,onSaleFilterModel:x,keyword:this.keyword,searchCategoryId:this.searchCategoryId,searchManufacturerId:this.searchManufacturerId,searchVendorId:this.searchVendorId,priceFrom:this.priceFrom,priceTo:this.priceTo,includeSubcategories:this.includeSubcategories,searchInProductDescriptions:this.searchInProductDescriptions,advancedSearch:this.advancedSearch,isOnSearchPage:this.isOnSearchPage,inStockFilterModel:y};this.isProductRefreshTriggeredByScroll||this.showProductPanelAjaxBusy();var C=this,M=this.getFilteredProductsUrl;r.waitForAjaxRequest=!0,e.ajax({cache:!1,type:"POST",data:e.toJSON(j),contentType:"application/json; charset=utf-8",url:M}).done(function(t){if(""!==s&&(C.changeViewModeOrderByAndPageSize(t),C.setPriceRangeValues(t)),C.refreshProducts(t,C.isProductRefreshTriggeredByScroll,g,a)){if(C.refreshFilters(t),g||C.refreshProductsPager(t),C.refreshClearButtons(),"NO HASH QUERY"!==s){C.expandFilterPanelsWithSelectedOptions();var i=e(t).filter("#urlHashQuery").val().toString();""!==i?(C.isProductRefreshTriggeredByScroll&&(i=i.slice(0,i.indexOf("&pageNumber"))),e.address.value(i)):g||e.address.value("noFilterApplied")}C.hideProductPanelAjaxBusy(),r.waitForAjaxRequest=!1;var o=e(".nopAjaxFilters7Spikes").attr("data-scrollToElement");if(!C.isProductRefreshTriggeredByScroll&&null!=o&&"true"===o.toLowerCase()&&!p){var l=e(".nopAjaxFilters7Spikes").attr("data-scrollToElementSelector").split(","),n=".product-selectors";if(null!=l&&l.length>0){for(var d=0;d<l.length;d++)if(e(l[d].trim()).length>0){n=l[d].trim();break}if(e(n).length>0){var c=parseInt(e(".nopAjaxFilters7Spikes").attr("data-scrolltoelementadditionaloffset"))||0,f=e(n).offset().top+c;e("html, body").animate({scrollTop:f},"slow"),e("html, body").animate({scrollTop:f-1},"fast")}}}e(".productPanelAjaxBusy").length<1&&C.addProductPanelAjaxBusyToPage();var h=e(t).filter("#totalCount").val().toString();if(e.event.trigger({type:"nopAjaxFiltersFiltrationCompleteEvent",totalCount:h,isTriggeredByInfiniteScroll:C.isProductRefreshTriggeredByScroll}),"true"===e(".nopAjaxFilters7Spikes").attr("data-showSelectedFiltersPanel").toLowerCase()&&function(){var t=e(".nopAjaxFilters7Spikes").first(),r=e(".block.filter-block.selected-options").first(),i=t.attr("data-selectedOptionsTargetSelector")||".nopAjaxFilters7Spikes .filtersPanel:first",o="usedropdowns"===t.attr("data-filtersuimode");switch(t.attr("data-selectedOptionsTargetAction")){case"insertBefore":r.insertBefore(i);break;case"insertAfter":r.insertAfter(i);break;case"appendTo":r.appendTo(i);break;default:r.prependTo(i)}var a=r.find(".selected-options-list");a.empty(),r.find("a.toggleControl").off("click").on("click",function(){u(e(this))});var s=t.find(".priceRangeFilterPanel7Spikes");if(s.length>0){var l=s.find("#slider"),n=l.attr("data-sliderminvalue"),d=l.attr("data-slidermaxvalue"),c=e(".priceRangeCurrentPricesPanel .currentMinPrice").text(),p=e(".priceRangeCurrentPricesPanel .currentMaxPrice").text();if(l.length>0&&(n!==c||d!==p)){var f=e('<span class="option">'+c+" - "+p+"</span>");f.anchorCustomClick(s.find(".clearPriceRangeFilter"));var h=s.find(".toggleControl").text(),g=e('<li class="price-range-selected-ranges"><label>'+h+":</label></li>");g.append(f),a.append(g)}}t.find(".filter-block").each(function(){var t=!1,r=e(this),i=e("<li><label>"+r.children(".title").children("a.toggleControl").first().text()+":</label></li>");r.find("[data-option-ids][selected], [data-option-ids][checked]").each(function(){var r=e(this),a=r.text()||r.next("label").text(),s=e('<span class="option">'+a+"</span>");t=!0,o?s.anchorCustomClick(r.closest(".filtersGroupPanel").siblings(".title").children(".clearFilterOptions")):s.anchorCustomClick(r),i.append(s)}),t&&a.append(i)}),a.children().length>0?r.show():(r.hide(),t.prepend(r))}(),"true"!==e(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&"false"!==e(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector").toLowerCase()){var v=A;e(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel)").length>0?v=e(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel) .item-box").length:e(".page-body .product-list").length>0&&(v=e(".page-body .product-list .item-box").length),function(t,r){if(null!=t||(t=parseInt(e(".productsPageSizeDropDown .toplevel p").text()),!isNaN(t))){t>(r=parseInt(r))&&(t=r);var i=e(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector")||".product-viewmode",o=e(i);e(".returned-products-filters-panel").children(".allProductsReturned").text(r);var a=e(".number-of-returned-products.sample-element").first();e(".number-of-returned-products").not(a).remove();var s=a.clone();s.removeClass("sample-element"),s.children(".productsPerPage").text(t),s.children(".allProductsReturned").text(r),0===o.length?e(".product-selectors").append(s):o.after(s),s.css("display","").addClass("active")}}(v,h)}}else r.waitForAjaxRequest=!1}).fail(function(){C.hideProductPanelAjaxBusy(),alert("Loading the page failed."),r.waitForAjaxRequest=!1}).always(function(){C.isProductRefreshTriggeredByScroll=!1,l()&&e.address.history(!1)})}},r.prototype.getSpecificationFiltersModel=function(){return this.buildSpecificationFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},r.prototype.getAttributeFiltersModel=function(){return this.buildAttributeFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},r.prototype.getManufacturerFiltersModel=function(){return this.buildManufacturerFiltersModel(this.categoryId,this.selectedFilterGroupElement)},r.prototype.getVendorFiltersModel=function(){return this.buildVendorFiltersModel(this.categoryId,this.selectedFilterGroupElement)},r.prototype.getOnSaleFiltersModel=function(){return this.buildOnSaleFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},r.prototype.getPriceRangeFilterModel=function(){var e=null;return null!=this.buildPriceRangeFilterModel&&(e=this.buildPriceRangeFilterModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),e},r.prototype.getInStockFiltersModel=function(){var e=null;return null!=this.buildInStockFiltersModel&&(e=this.buildInStockFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),e},r.prototype.refreshProducts=function(t,r,i,o){var a,s=f()||e(".nopAjaxFilters7Spikes").attr("data-defaultViewMode"),l=this.getProductsPanelSelector(s),n=e("."+p);if(null!=e(t).filter(l).html()){if(n.length>1&&(n=n.last()),r){var d=e(t).filter(l),c=d.find(".item-box");if(d.hasClass("product-grid")?n.hasClass("product-list")&&n.removeClass("product-list").addClass("product-grid"):n.hasClass("product-grid")&&n.removeClass("product-grid").addClass("product-list"),i)for(var u=e(".dummy-box").filter(function(){return e(this).attr("data-pageNumber")===o}),h=c.filter(".item-box"),g=0;g<h.length;g++){var v=e(h.get(g));e(u.get(g)).replaceWith(v)}else e(".infinite-scroll-loader").hide(),n.find(".item-box").last().after(c)}else n.replaceWith(e(t).filter(l));a=!0}else this.hideProductPanelAjaxBusy(),e("#nopAjaxFiltersNoProductsDialog").length>0?this.showNoProductsModalDialog():(n.prepend(e(t).filter("#nopAjaxFiltersNoProductsDialog")),this.showNoProductsModalDialog()),a=!1;return a},r.prototype.refreshProductsPager=function(t){var r=this.getPagerPanelSelector(),i=e(r);if(void 0!==t){var o=e(t).filter(r);if(0===i.length&&o.length>0){var a=e(".nopAjaxFilters7Spikes").attr("data-pagerpanelintegrationselector")||".product-grid, .product-list",s=e(a);s.length>0&&(s.hasClass("product-grid")||s.hasClass("product-list"))&&(s=s.not(".featured-product-grid, .nop-jcarousel").last()),0===s.length&&(s=g()),s.after('<div class="pager"></div>'),i=e(r)}"true"===e(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&i.hide(),i.html(o.html()),i.length>0&&0===o.length&&i.remove()}this.setPagerLinks(i)},r.prototype.setPagerLinks=function(t){var r=this;t.find("a").each(function(){var t=e(this).attr("href"),i="";if(null!=t){t=t.toLowerCase();var o=/pagenumber=(\d+)/.exec(t);null!=o&&o.length>1&&(i=o[1])}e(this).removeAttr("href"),e(this).attr("data-pageNumber",i),e(this).click({filtersManager:r},h)})},r.prototype.getProductsPanelSelector=function(t){return"list"===t?e(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector")||".product-list":e(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")||".product-grid"},r.prototype.getPagerPanelSelector=function(){return e(".nopAjaxFilters7Spikes").attr("data-pagerPanelSelector")||".pager"},r.prototype.clearFilterOptions=function(t){var r=e(t.currentTarget).parent().siblings(".filtersGroupPanel");t.data.filtersManager.clearFilterOptionsForFiltersGroupElement(r)},r.prototype.clearFilterOptionsForFiltersGroupElement=function(e){e.find("[data-option-ids]").removeAttr("checked selected");var t=e.find(".select-wrap");t.length>0&&t.find(".select-inner").text(t.find("select option:selected").text()),this.requestProductsForSelectedFilters(e,void 0)},r.prototype.selectAllFilterDropDownOption=function(t){var r=e(t.currentTarget).closest(".filtersGroupPanel");this.clearFilterOptionsForFiltersGroupElement(r)},r.prototype.clearAllFilterOptions=function(t){e(".nopAjaxFilters7Spikes .filtersGroupPanel").find("[data-option-ids]").removeAttr("checked selected"),e(".nopAjaxFilters7Spikes .select-wrap").each(function(){var t=e(this);t.find(".select-inner").text(t.find("select option:selected").text())});var r=t.data.filtersManager;r.clearPriceRangeFilterControl(),r.requestProductsForSelectedFilters()},r.prototype.refreshClearButtons=function(){var t=!1;e(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var r=e(this),i=!1;r.find("[data-option-ids]").each(function(){var t=e(this);if(null!=(t.attr("selected")||t.attr("checked")))return i=!0,!1});var o=r.parent().find("a.clearFilterOptions");i?(o.show(),t=!0):o.hide()});var r=e(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(t)r.show();else{var i=!1;null!=this.determineIfPriceRangeHasBeenSelected&&(i=this.determineIfPriceRangeHasBeenSelected()),i?r.show():r.hide()}},r.prototype.expandFilterPanelsWithSelectedOptions=function(){e(".clearPriceRangeFilter, .clearFilterOptions").filter(":visible").siblings("a.toggleControl.closed").click()},r.prototype.changeViewModeOrderByAndPageSize=function(t){var r=e(t).filter("#currentPageSizeJson").val(),i=e.parseJSON(r),o=e(t).filter("#currentOrderByJson").val(),a=e.parseJSON(o),s=e(t).filter("#currentViewModeJson").val(),l=e.parseJSON(s);n(".sortOptionsDropDown",a),n(".viewOptionsDropDown",l),n(".productsPageSizeDropDown",i),e(c()).removeClass("selected").filter("."+l).addClass("selected")},r.prototype.setPriceRangeValues=function(t){var r=e(t).filter("#priceRangeFromJson").val().toString(),i=e.parseJSON(r),o=e(t).filter("#priceRangeToJson").val().toString(),a=e.parseJSON(o);null!=this.SetSliderValues&&this.SetSliderValues(i,a)},r.prototype.refreshFilters=function(t){var r=this,i=e(t).filter("#specificationFilterModel7SpikesJson").val().toString(),o=e.parseJSON(i);r.refreshSpecificationFilters(o,r.filtersUIMode);var a=e(t).filter("#attributeFilterModel7SpikesJson").val().toString(),s=e.parseJSON(a);r.refreshAttributeFilters(s,r.filtersUIMode);var l=e(t).filter("#manufacturerFilterModel7SpikesJson").val().toString(),n=e.parseJSON(l);r.refreshManufacturerFilters(n,r.filtersUIMode);var d=e(t).filter("#vendorFilterModel7SpikesJson").val().toString(),c=e.parseJSON(d);r.refreshVendorFilters(c,r.filtersUIMode);var p=e(t).filter("#onSaleFilterModel7SpikesJson").val().toString(),u=e.parseJSON(p);r.refreshOnSaleFilters(u,r.filtersUIMode);var f=e(t).filter("#inStockFilterModel7SpikesJson").val().toString(),h=e.parseJSON(f);r.refreshInStockFilters(h,r.filtersUIMode),e(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var t=e(this),r=!0;t.find("[data-option-ids]").each(function(){if(!e(this).is(":disabled"))return r=!1,!1}),r?t.find("select").attr("disabled","disabled"):t.find("select").removeAttr("disabled"),t.toggleClass("disabled",r)})},r.prototype.executeReverseInfiniteScroll=function(e){(new r).requestProductsForSelectedFilters(void 0,void 0,e,void 0,void 0,!0,!0,void 0,void 0,!0)},r.prototype.clearPriceRangeFilterControl=function(){},r.prototype.refreshManufacturerFilters=function(){},r.prototype.refreshVendorFilters=function(){},r.prototype.refreshSpecificationFilters=function(){},r.prototype.refreshAttributeFilters=function(){},r.prototype.refreshOnSaleFilters=function(){},r.prototype.refreshInStockFilters=function(){},r.prototype.buildManufacturerFiltersModel=function(){},r.prototype.buildVendorFiltersModel=function(){},r.prototype.buildSpecificationFiltersModel=function(){},r.prototype.buildAttributeFiltersModel=function(){},r.prototype.buildOnSaleFiltersModel=function(){},r.prototype.addProductPanelAjaxBusyToPage=function(){var t=g();t.addClass("ajaxBusyPanelParent "+p),t.css("position","relative"),t.append(e('<div class="productPanelAjaxBusy"></div><div class="clear"></div>')),e(".productPanelAjaxBusy").hide(),F()},r.prototype.setSpecificationFilterSelection=function(e,t){this.selectedFilterGroupElement=e,this.selectedFilterOptionElement=t},r.prototype.showNoProductsModalDialog=function(){var t=e("#nopAjaxFiltersNoProductsDialog").data("kendoWindow"),r=e("#nopAjaxFiltersNoProductsDialog").attr("title");r||(r="NO RESULTS FOUND"),t||(t=e("#nopAjaxFiltersNoProductsDialog").kendoWindow({draggable:!1,resizable:!1,width:"300px",height:"100px",title:r,modal:!0,actions:["Close"],animation:!1,visible:!1}).data("kendoWindow")).wrapper.addClass("ajaxFilters"),t.center(),t.open(),e(document).on("click",".k-overlay",function(){t.close()})},r.prototype.showProductPanelAjaxBusy=function(){e(".productPanelAjaxBusy").show()},r.prototype.hideProductPanelAjaxBusy=function(){e(".productPanelAjaxBusy").hide()},r.getFilterItemStateBasedOnAttributes=function(e){var t=null!=(e.attr("selected")||e.attr("checked")),r=null!=e.attr("disabled");return t&&r?"CheckedDisabled":t&&!r?"Checked":!t&&r?"Disabled":"Unchecked"},r.waitForAjaxRequest=!1,r.addStateClassToCheckBoxParent=function(e,t){var r=e.parent("li");0!==r.length&&(t!==o&&t!==a||(r.addClass("checked"),t===o&&r.removeClass("disabled")),t!==a&&t!==s||r.addClass("disabled"),t===i&&r.removeClass("checked disabled"))},r.addStateAttributesToOption=function(e,t,r){t!==o&&t!==a||(r?e.attr("selected","selected").trigger("change"):e.attr("checked","checked"),t===o&&e.removeAttr("disabled")),t!==a&&t!==s||e.attr("disabled","disabled"),t===i&&e.removeAttr("checked selected disabled")},r.addStateClassAndAttributesToOption=function(e,t,i){var a=!1;return t===o&&(a=!0),i||r.addStateClassToCheckBoxParent(e,t),r.addStateAttributesToOption(e,t,i),a},e(document).ready(function(){var t=new r;t.addProductPanelAjaxBusyToPage(),e(".nopAjaxFilters7Spikes .block .title a.toggleControl").off("click").on("click",function(){u(e(this))}),e(".nopAjaxFilters7Spikes .block .title a.clearFilterOptions").each(function(){e(this).click({filtersManager:t},t.clearFilterOptions),e(this).hide()}),e(".nopAjaxFilters7Spikes .filtersDropDown a.allFilterDropDownOptions").each(function(){e(this).click({filtersManager:t},t.selectAllFilterDropDownOption)});var i=e(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(i.click({filtersManager:t},t.clearAllFilterOptions),i.hide(),t.refreshProductsPager(),t.filtersUIMode===t.filtersUIModeEnum.useDropDowns){var o=e(".filtersDropDownPanel.filtersGroupPanel"),a=o.length+100;o.each(function(){e(this).css("z-index",a--)})}"true"===e(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&function(){F(),e(".product-page-size, "+e(".nopAjaxFilters7Spikes").attr("data-pagerpanelselector")).hide(),e(".product-selectors").addClass("infinite-scroll-enabled");var t=function(){e(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll").on("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll",function(){v()}),v()};e(document).on("nopAjaxFiltersFiltrationCompleteEvent",t),window.location.hash&&"#/noFilterApplied"!==window.location.hash||t()}(),e(".filtersGroupSearchInput").on("keyup",function(){var t=e(this).val().toLowerCase(),r=e(this).parent().next(".checkbox-list").children();""===t?r.each(function(){var t=e(this),r=t.find("label"),i=r.data("originaltext");r.html(i),t.show()}):r.each(function(){var r=e(this),i=r.find("label"),o=i.data("originaltext"),a=o.toLowerCase().indexOf(t);if(-1!==a){var s=o.substring(a,a+t.length);if(0===a){var l=o.substring(s.length);i.html("<strong>"+s+"</strong>"+l)}else if(a>0){var n=o.slice(0,a),d=o.slice(a+t.length);i.html(n+"<strong>"+s+"</strong>"+d)}r.show()}else r.hide()})})}),e(window).unload(function(){l()&&e.address.history(!0)}),e(document).ready(function(){y(),l()&&e.address.history(!1)})}(jQuery,sevenSpikesCore,FiltersManager);