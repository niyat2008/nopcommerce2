(function (n, t) { function i(i, r, u, f) { var e = {}, o = n(".onSaleFilterPanel7Spikes .filtersGroupPanel"); return e.CategoryId = i, e.ManufacturerId = r, e.VendorId = u, f != undefined && f.is(o) && (e.Priority = 1), o.find("[data-option-ids]").each(function () { var i = n(this), r = i.attr("data-option-ids"); e.Id = r; e.FilterItemState = t.getFilterItemStateBasedOnAttributes(i) }), e } function r(i, r) { var u = n(".onSaleFilterPanel7Spikes .filtersGroupPanel"), f = r === "usedropdowns", e = f; u.find("[data-option-ids]").each(function () { var r = n(this), o = parseInt(r.attr("data-option-ids")) || 0, u; i.Id === o && (u = t.addStateClassAndAttributesToOption(r, i.FilterItemState, f), u && (e = !1)) }); e && u.find('[value="0"]').attr("selected", "selected") } t.prototype.buildOnSaleFiltersModel = i; t.prototype.refreshOnSaleFilters = r; n(document).ready(function () { n(".onSaleFilterPanel7Spikes").find('.attribute-options-select, .checkbox-list input[type="checkbox"]').on("change", function () { var i = n(this), r = i.closest(".filtersGroupPanel"), u = new t; u.requestProductsForSelectedFilters(r, i) }) }) })(jQuery, FiltersManager);